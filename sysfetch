#!/bin/bash

# get hooks
[[ -e sysfetch ]] && source "assets/hooks.sh" || source "/usr/share/sysfetch/assets/hooks.sh"

# global variables
sys=$(uname -snrmo)
read -r kernel host kernel_rel arch os <<< $sys

# pull code per system
if is $kernel_rel *"WSL"* ; then
	source "$src/sys/wsl.sh"
elif is $sys *"Darwin"* ; then
	source "$src/sys/darwin.sh"
elif is $kernel "Linux" ; then
	source "$src/sys/linux.sh"
elif is $sys *"BSD"* ; then
	source "$src/sys/bsd.sh"
fi

# write output
printf "$purple$user$nc@$yellow$hostname$nc\n"
write uptime "$uptime\n" blue
write kernel "$kernel $kernel_rel\n" cyan
write distro "$distro"%-3s green
write arch "$arch\n" 
write term "$term"%-3s yellow 
write shell "$shell\n"
write de/wm "$de_wm"%-3s red
write theme "$theme\n"
write pkgs "$pkgs $pkgs2\n" purple
write cpu "$cpu $max_cpu@$cur_cpu GHz\n" blue
write gpu "$gpu\n" cyan
var $gpu2 && write gpu "$gpu2\n" cyan
write mobo "$mobo\n" green
write disk "$cur_disk/$max_disk GiB $disk_per%\n" yellow
write ram "$cur_ram/$max_ram MiB"%-3s red
write swap "$cur_swap/$max_swap MiB\n"

# ascii
source "$src/assets/ascii.sh"
